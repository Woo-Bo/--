import{u as S,_ as v,a as k}from"./table.2b477b17.js";import{h as B,H as g}from"./element-plus.bf9fa066.js";import{u as T}from"./useUser.51feaabc.js";import{k as b,bl as y,d as V,o as C,c as E,b as a,I as d,u as t,P as h,ah as $,J as D,R as A}from"./@vue.93d749de.js";import{u as H}from"./vue-router.9aaff3ab.js";import{u as U,_ as z}from"./tab.vue_vue_type_script_setup_true_lang.2b55ec03.js";import{f as F}from"./index.645abaa1.js";import"./dayjs.2da0dfc5.js";import"./@kangc.6fbe2d34.js";import"./vue.a47fe42c.js";import"./@element-plus.4cdb3580.js";import"./@vueuse.3a1db1c8.js";import"./lodash-es.dd6a6848.js";import"./async-validator.6019f6c6.js";import"./@sxzz.69bffcbd.js";import"./escape-html.ee221422.js";import"./normalize-wheel-es.25faf228.js";import"./@ctrl.46158b0f.js";import"./tab.9b122156.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./@icon-park.b1f4f028.js";import"./pinia.69fcafa7.js";import"./vue-demi.f95da513.js";import"./axios.7a8c36d1.js";/* empty css                    */import"./prismjs.746706c7.js";import"./vee-validate.f34e48f3.js";import"./@vee-validate.51eabfa0.js";import"./yup.e40ae9cc.js";import"./nanoclone.76ad5e25.js";import"./lodash.030833a1.js";import"./property-expr.8748984a.js";import"./toposort.be455aaf.js";const N=h("\u9009\u62E9"),P=h(" \u9009\u62E9\u7528\u6237 "),R=b({__name:"get",emits:["select"],async setup(w,{emit:u}){let r,l;const{load:e,users:s}=T();[r,l]=y(()=>e()),await r,l();const o=V(!1),i=_=>{u("select",_),o.value=!1};return(_,n)=>{const p=B,f=v,c=g;return C(),E("div",null,[a(c,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=m=>o.value=m),width:"95%",top:"20px",title:"\u9009\u62E9\u7528\u6237"},{default:d(()=>{var m;return[a(f,{data:(m=t(s))==null?void 0:m.data,columns:t(S),buttons:[{command:"select",title:"\u9009\u62E9",type:"primary"}],"button-type":"default","button-width":90},{button:d(({model:x})=>[a(p,{type:"primary",size:"default",onClick:q=>i(x)},{default:d(()=>[N]),_:2},1032,["onClick"])]),_:1},8,["data","columns"])]}),_:1},8,["modelValue"]),a(p,{type:"primary",size:"default",onClick:n[1]||(n[1]=m=>o.value=!o.value)},{default:d(()=>[P]),_:1})])}}}),Et=b({__name:"index",async setup(w){let u,r;const l=H(),e=U(),s=F();[u,r]=y(()=>Promise.all([s.currentSite(),e.load()])),await u,r();const o=[{title:"\u8BBE\u7F6E\u89D2\u8272",action(i){l.push({name:"site.admin.role",query:{sid:s.sid,id:i.id}})}},{title:"\u5220\u9664\u7BA1\u7406\u5458",async action(i){await e.del(i)}}];return(i,_)=>{var c;const n=R,p=v,f=$("access");return C(),E(A,null,[a(z,{site:t(s).site.value},null,8,["site"]),D(a(n,{onSelect:t(e).add,class:"mb-2"},null,8,["onSelect"]),[[f,t(s).site.value,"admin-add"]]),a(p,{data:(c=t(e).admins.value)==null?void 0:c.data,columns:t(k),api:t(e).load,buttons:t(o)},null,8,["data","columns","api","buttons"])],64)}}});export{Et as default};
