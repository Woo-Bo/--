import{h as w}from"./element-plus.bf9fa066.js";import{f as F}from"./index.645abaa1.js";import{u as I,_ as R}from"./tab.vue_vue_type_script_setup_true_lang.2b55ec03.js";import{u as V}from"./useRole.454987ee.js";import{k as $,bl as N,d as z,o,c as s,b as p,u as t,R as u,a as c,ae as P,J as j,a6 as J,P as d,Q as L,I as k,b4 as M,b3 as Q}from"./@vue.93d749de.js";import{_ as T}from"./_plugin-vue_export-helper.cdc0426e.js";import"./dayjs.2da0dfc5.js";import"./@kangc.6fbe2d34.js";import"./vue.a47fe42c.js";import"./@vueuse.3a1db1c8.js";import"./@element-plus.4cdb3580.js";import"./lodash-es.dd6a6848.js";import"./async-validator.6019f6c6.js";import"./@sxzz.69bffcbd.js";import"./escape-html.ee221422.js";import"./normalize-wheel-es.25faf228.js";import"./@ctrl.46158b0f.js";import"./vue-router.9aaff3ab.js";import"./@icon-park.b1f4f028.js";import"./pinia.69fcafa7.js";import"./vue-demi.f95da513.js";import"./axios.7a8c36d1.js";/* empty css                    */import"./prismjs.746706c7.js";import"./vee-validate.f34e48f3.js";import"./@vee-validate.51eabfa0.js";import"./yup.e40ae9cc.js";import"./nanoclone.76ad5e25.js";import"./lodash.030833a1.js";import"./property-expr.8748984a.js";import"./toposort.be455aaf.js";import"./tab.9b122156.js";const U=r=>(M("data-v-26cb8c24"),r=r(),Q(),r),q={class:"m-2 text-gray-700 text-sm inline-flex items-center"},G=["value"],H=d(" \u4FDD\u5B58\u63D0\u4EA4 "),K={key:1,class:"flex flex-col justify-center items-center text-sm font-bold text-gray-600 !py-5"},O=U(()=>c("span",{class:"mb-2"},"\u7AD9\u70B9\u8FD8\u6CA1\u6709\u8BBE\u7F6E\u89D2\u8272",-1)),W=d(" \u8BBE\u7F6E\u89D2\u8272 "),X=$({__name:"role",async setup(r){var x,v;let _,f;const{site:D,sid:C,currentSite:E}=F(),{admin:m,setRole:A,current:S}=I(),{roles:y,load:g}=V();[_,f]=N(()=>Promise.all([E(),S(),g()])),await _,f();const n=z((v=(x=m.value)==null?void 0:x.roles.map(l=>l.id))!=null?v:[]);return(l,e)=>{var h,B;const b=w;return o(),s(u,null,[p(R,{site:t(D),admin:t(m)},null,8,["site","admin"]),(h=t(y))!=null&&h.meta.total?(o(),s(u,{key:0},[c("section",null,[(o(!0),s(u,null,P((B=t(y))==null?void 0:B.data,i=>(o(),s("label",q,[j(c("input",{type:"checkbox",class:"mr-1","onUpdate:modelValue":e[0]||(e[0]=a=>n.value=a),value:i.id},null,8,G),[[J,n.value]]),d(" "+L(i.name),1)]))),256))]),p(b,{type:"primary",size:"default",onClick:e[1]||(e[1]=i=>{var a;return t(A)((a=t(m))==null?void 0:a.id,n.value)})},{default:k(()=>[H]),_:1})],64)):(o(),s("section",K,[O,p(b,{type:"primary",size:"default",onClick:e[2]||(e[2]=i=>l.$router.push({name:"role.index",params:{sid:t(C)}}))},{default:k(()=>[W]),_:1})]))],64)}}});const Ft=T(X,[["__scopeId","data-v-26cb8c24"]]);export{Ft as default};
